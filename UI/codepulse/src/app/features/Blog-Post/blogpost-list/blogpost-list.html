<div class="Container">
  <h1 class="mt-3">BlogPost List</h1>

  <div class="d-flex justify-content-end mt-3">
    <a [routerLink]="['/admin/Blogpost/add']" class="btn btn-primary">Add Blogpost</a>
  </div>

  @if (blogposts$ | async; as blogposts) {
  @if (blogposts.length > 0) {
  <table class="table table-bordered mt-3">
    <thead>
      <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Short Description</th>
        <th>IsVisible</th>
        <th> Categorey</th>
        <th></th>

      </tr>
    </thead>
    <tbody>
      @for (blogPost of blogposts; track blogPost.id) {
      <tr>
        <td>{{ blogPost.id }}</td>
        <td>{{ blogPost.title || 'No Title Found' }}</td>
        <td>{{ blogPost.shortDescription || 'No Description Found' }}</td>
        <td>{{ blogPost.isVisible ? 'Yes' : 'No' }}</td>
        
        @for ( Categorey of blogPost.cetagories ; track Categorey.id) {
        <span>
          <span class="badge text-bg-secondary me-2">{{Categorey.name}}</span>
        </span>
        }
       <td>
          <a  class="btn btn-light" [routerLink]="['/admin/Blogpost/',blogPost.id]"> Edit</a>
        </td>


        

      </tr>
       
      }
    </tbody>
  </table>
  } @else {
  <p class="mt-3">
    No blog posts found. <a [routerLink]="['/admin/Blogpost/add']">Create your first blog post</a>
  </p>
  }
  }
</div>